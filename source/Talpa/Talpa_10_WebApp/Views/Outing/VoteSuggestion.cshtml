@model Talpa_10_WebApp.RequestModels.OutingRequest

@{
	Layout = "_Layout";
	ViewData["Title"] = "Detail";
}

<form asp-action="VoteSuggestion">
	<input asp-for="Id" type="hidden" />
	<input asp-for="Name" type="hidden" />
	@for (int i = 0; i < Model.Dates.Count; i++)
	{
		<input asp-for="Dates[i]" type="hidden" />
	}
	<div class="outer-container">
		@for (int i = 0; i < Model.Suggestions.Count; i++)
		{
			var suggestion = Model.Suggestions[i];
			<label class="card-frame" style="text-decoration: none; display: flex; justify-content: center; align-items: center; margin: 10px;">
				<input type="radio" asp-for="SuggestionVoteId" class="suggestionRadio" name="SuggestionVoteId" style="display: none" value="@suggestion.Id">
				<div class="card" style="border-radius: 15px; background-color: dimgray;">
					<div class="card-body">
						<h1 class="card-title">
							@suggestion.Name
						</h1>
					</div>
				</div>
			</label>
		}
	</div>
	<div class="form-group mt-3">
		<input type="submit" value="Vote" class="btn btn-primary" />
	</div>
</form>

<script>
	var radios = document.querySelectorAll('.suggestionRadio');
	var cards = document.querySelectorAll('.card');

	radios.forEach((radio, radioIndex) => {
		radio.addEventListener('change', function () {
			cards.forEach((card) => {
				card.style.backgroundColor = 'dimgray';
			});

			if (this.checked) {
				cards[radioIndex].style.backgroundColor = '#5236AB';
			}
		});
	});

</script>

